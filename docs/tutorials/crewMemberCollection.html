<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB 2023b"><title>Metadata instances and collections</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(192, 76, 11); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.CodeBlock { background-color: #F5F5F5; margin: 10px 0 10px 0; }
.S2 { border-left: 1px solid rgb(217, 217, 217); border-right: 1px solid rgb(217, 217, 217); border-top: 1px solid rgb(217, 217, 217); border-bottom: 0px none rgb(33, 33, 33); border-radius: 4px 4px 0px 0px; padding: 6px 45px 0px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S3 { border-left: 1px solid rgb(217, 217, 217); border-right: 1px solid rgb(217, 217, 217); border-top: 0px none rgb(33, 33, 33); border-bottom: 1px solid rgb(217, 217, 217); border-radius: 0px; padding: 0px 45px 4px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S4 { color: rgb(33, 33, 33); padding: 10px 0px 6px 17px; background: rgb(255, 255, 255) none repeat scroll 0% 0% / auto padding-box border-box; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px; overflow-x: hidden; line-height: 17.234px;  }
.embeddedOutputsVariableTableElement .ClientViewDiv  table tr {  height: 22px;  white-space: nowrap;}
.embeddedOutputsVariableTableElement .ClientViewDiv  table tr td,.embeddedOutputsVariableTableElement .ClientViewDiv  table tr th {  background-color:white;  text-overflow: ellipsis;  font-family: 'Arial', sans-serif;  font-size: 12px;  overflow : hidden;}
.embeddedOutputsVariableTableElement .ClientViewDiv  table tr span {  text-overflow: ellipsis;  padding: 3px;}
.embeddedOutputsVariableTableElement .ClientViewDiv  table tr th {    color: rgba(0,0,0,0.5);  padding: 3px;  font-size: 9px;}
/* ClientDocument has a summary bar child that takes up 17px, this clashes with overflow on the view which allots space for scrollbars. On print preview, this causes headers from <thead> to overlap on subsequent pages. Displaying Document as flex renders summarybar and view in column format and fixes the issue g2788485 */.embeddedOutputsVariableTableElement .ClientDocument {  display: flex;  flex-direction: column;}
.S5 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }
.S6 { margin: 10px 0px 20px; padding-left: 0px; font-family: Helvetica, Arial, sans-serif; font-size: 14px;  }
.S7 { margin-left: 56px; line-height: 21px; min-height: 0px; text-align: left; white-space: pre-wrap;  }
.S8 { border-left: 1px solid rgb(217, 217, 217); border-right: 1px solid rgb(217, 217, 217); border-top: 0px none rgb(33, 33, 33); border-bottom: 0px none rgb(33, 33, 33); border-radius: 0px; padding: 0px 45px 0px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
/* Styling that is common to warnings and errors is in diagnosticOutput.css */.embeddedOutputsErrorElement {    min-height: 18px;    max-height: 550px;}
.embeddedOutputsErrorElement .diagnosticMessage-errorType {    overflow: auto;}
.embeddedOutputsErrorElement.inlineElement {}
.embeddedOutputsErrorElement.rightPaneElement {}
/* Styling that is common to warnings and errors is in diagnosticOutput.css */.embeddedOutputsWarningElement {    min-height: 18px;    max-height: 550px;}
.embeddedOutputsWarningElement .diagnosticMessage-warningType {    overflow: auto;}
.embeddedOutputsWarningElement.inlineElement {}
.embeddedOutputsWarningElement.rightPaneElement {}
/* Copyright 2015-2023 The MathWorks, Inc. *//* In this file, styles are not scoped to rtcContainer since they could be in the Dojo Tooltip */.diagnosticMessage-wrapper {    font-family: Menlo, Monaco, Consolas, "Courier New", monospace;    font-size: 12px;}
.diagnosticMessage-wrapper.diagnosticMessage-warningType {    /*This fallback value will be used for appdesigner warnings*/    color: var(--rtc-warning-output-color, var(--mw-color-matlabWarning));}
.diagnosticMessage-wrapper.diagnosticMessage-warningType a {    /*This fallback value will be used for appdesigner warnings*/    color: var(--rtc-warning-output-color, var(--mw-color-matlabWarning));    text-decoration: underline;}
.rtcThemeDefaultOverride .diagnosticMessage-wrapper.diagnosticMessage-warningType,.rtcThemeDefaultOverride .diagnosticMessage-wrapper.diagnosticMessage-warningType a {    color: var(--mw-color-matlabWarning) !important;}
.diagnosticMessage-wrapper.diagnosticMessage-errorType {    /*This fallback value will be used in appdesigner error tooltip text*/    color: var(--rtc-error-output-color, var(--mw-color-matlabErrors));}
.diagnosticMessage-wrapper.diagnosticMessage-errorType a {    /*This fallback value will be used in appdesigner error tooltip text*/    color: var(--rtc-error-output-color, var(--mw-color-matlabErrors));    text-decoration: underline;}
.rtcThemeDefaultOverride .diagnosticMessage-wrapper.diagnosticMessage-errorType,.rtcThemeDefaultOverride .diagnosticMessage-wrapper.diagnosticMessage-errorType a {    color: var(--mw-color-matlabErrors) !important;}
.diagnosticMessage-wrapper .diagnosticMessage-messagePart,.diagnosticMessage-wrapper .diagnosticMessage-causePart {    white-space: pre-wrap;}
.diagnosticMessage-wrapper .diagnosticMessage-stackPart {    white-space: pre;}
.embeddedOutputsTextElement,.embeddedOutputsVariableStringElement {    white-space: pre;    word-wrap:  initial;    min-height: 18px;    max-height: 550px;}
.embeddedOutputsTextElement .textElement,.embeddedOutputsVariableStringElement .textElement {    overflow: auto;}
.textElement,.rtcDataTipElement .textElement {    padding-top: 2px;}
.embeddedOutputsTextElement.inlineElement,.embeddedOutputsVariableStringElement.inlineElement {}
.inlineElement .textElement {}
.embeddedOutputsTextElement.rightPaneElement,.embeddedOutputsVariableStringElement.rightPaneElement {    min-height: 16px;}
.rightPaneElement .textElement {    padding-top: 2px;    padding-left: 9px;}
.S9 { margin: 10px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S10 { border-left: 1px solid rgb(217, 217, 217); border-right: 1px solid rgb(217, 217, 217); border-top: 1px solid rgb(217, 217, 217); border-bottom: 1px solid rgb(217, 217, 217); border-radius: 4px 4px 0px 0px; padding: 6px 45px 4px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S11 { border-left: 1px solid rgb(217, 217, 217); border-right: 1px solid rgb(217, 217, 217); border-top: 0px none rgb(33, 33, 33); border-bottom: 1px solid rgb(217, 217, 217); border-radius: 0px 0px 4px 4px; padding: 0px 45px 4px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }</style></head><body><div class = rtcContent><h1  class = 'S0'><span>Metadata instances and collections</span></h1><div  class = 'S1'><span>In this example we will create a metadata collection for the crew members of the "Heart of Gold" Spacecraft as described in the openMINDS </span><a href = "https://openminds-documentation.readthedocs.io/en/latest/shared/getting_started.html"><span>getting started</span></a><span> guide.</span></div><div  class = 'S1'><span>We start by importing a csv file with crew member information:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre"><span >filePath = fullfile(openminds.toolboxdir(), </span><span style="color: #a709f5;">"livescripts"</span><span >, </span><span style="color: #a709f5;">"data"</span><span >, </span><span style="color: #a709f5;">"spacecraft_crew_members.csv"</span><span >);</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >crewMembers = readtable(filePath, </span><span style="color: #a709f5;">"TextType"</span><span >, </span><span style="color: #a709f5;">"String"</span><span >)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsVariableTableElement" uid="7D6BFE4E" prevent-scroll="true" data-testid="output_0" tabindex="-1" style="width: calc(100% - 5px);"><div class="ClientDocument veSpecifier table" id="variableeditor_client_Document_5" widgetid="variableeditor_client_Document_5" tabindex="0" aria-labelledby="variableeditor_views_SummaryBar_5"><div class="summaryBar" style="font-size: 12px; font-family: Consolas, Inconsolata, Menlo, monospace;"><span>crewMembers = </span><span style="color: rgb(179, 179, 179); font-style: normal;">4×5 table </span></div><div id="variableeditor_TableViewModel_5" widgetid="variableeditor_TableViewModel_5" class="table ClientViewDiv hasSummaryBar" data-viewid="__1" style="width: 100%; overflow: auto;"><table cellspacing="0" style="border-spacing: 0px; border-collapse: collapse;"><thead><tr><th rowspan="1" style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 6px 3px 3px; width: 34px; border: 1px solid rgb(191, 191, 191); text-align: left; background-color: rgb(245, 245, 245); color: rgba(0, 0, 0, 0.75); font-weight: 700; box-sizing: border-box;"><span>&nbsp;</span></th><th style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 6px 3px 3px; width: 110px; min-width: 110px; max-width: 110px; border: 1px solid rgb(191, 191, 191); text-align: center; background-color: rgb(245, 245, 245); color: rgba(0, 0, 0, 0.75); font-weight: 700; box-sizing: border-box;"><span>givenName</span></th><th style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 6px 3px 3px; width: 118px; min-width: 118px; max-width: 118px; border: 1px solid rgb(191, 191, 191); text-align: center; background-color: rgb(245, 245, 245); color: rgba(0, 0, 0, 0.75); font-weight: 700; box-sizing: border-box;"><span>familyName</span></th><th style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 6px 3px 3px; width: 142px; min-width: 142px; max-width: 142px; border: 1px solid rgb(191, 191, 191); text-align: center; background-color: rgb(245, 245, 245); color: rgba(0, 0, 0, 0.75); font-weight: 700; box-sizing: border-box;"><span>alternateName</span></th><th style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 6px 3px 3px; width: 308px; min-width: 308px; max-width: 308px; border: 1px solid rgb(191, 191, 191); text-align: center; background-color: rgb(245, 245, 245); color: rgba(0, 0, 0, 0.75); font-weight: 700; box-sizing: border-box;"><span>email</span></th><th style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 6px 3px 3px; width: 217px; min-width: 217px; max-width: 217px; border: 1px solid rgb(191, 191, 191); text-align: center; background-color: rgb(245, 245, 245); color: rgba(0, 0, 0, 0.75); font-weight: 700; box-sizing: border-box;"><span>memberOf</span></th></tr></thead><tbody><tr><th style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 6px 3px 3px; width: 34px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left; background-color: rgb(245, 245, 245); color: rgba(0, 0, 0, 0.75); font-weight: 700; box-sizing: border-box;"><span>1</span></th><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 110px; min-width: 110px; max-width: 110px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"Arthur"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 118px; min-width: 118px; max-width: 118px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"Dent"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 142px; min-width: 142px; max-width: 142px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>&lt;missing&gt;</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 308px; min-width: 308px; max-width: 308px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"arthur-dent@hitchhikers-guide.galaxy"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 217px; min-width: 217px; max-width: 217px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"Heart&nbsp;of&nbsp;Gold&nbsp;Spacecraft&nbsp;Crew"</span></td></tr><tr><th style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 6px 3px 3px; width: 34px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left; background-color: rgb(245, 245, 245); color: rgba(0, 0, 0, 0.75); font-weight: 700; box-sizing: border-box;"><span>2</span></th><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 110px; min-width: 110px; max-width: 110px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"Ford"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 118px; min-width: 118px; max-width: 118px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"Prefect"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 142px; min-width: 142px; max-width: 142px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>&lt;missing&gt;</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 308px; min-width: 308px; max-width: 308px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"ford-prefect@hitchhikers-guide.galaxy"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 217px; min-width: 217px; max-width: 217px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"Heart&nbsp;of&nbsp;Gold&nbsp;Spacecraft&nbsp;Crew"</span></td></tr><tr><th style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 6px 3px 3px; width: 34px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left; background-color: rgb(245, 245, 245); color: rgba(0, 0, 0, 0.75); font-weight: 700; box-sizing: border-box;"><span>3</span></th><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 110px; min-width: 110px; max-width: 110px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"Tricia&nbsp;Marie"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 118px; min-width: 118px; max-width: 118px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"McMillan"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 142px; min-width: 142px; max-width: 142px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"Trillian&nbsp;Astra"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 308px; min-width: 308px; max-width: 308px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"trillian-astra@hitchhikers-guide.galaxy"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 217px; min-width: 217px; max-width: 217px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"Heart&nbsp;of&nbsp;Gold&nbsp;Spacecraft&nbsp;Crew"</span></td></tr><tr><th style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 6px 3px 3px; width: 34px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left; background-color: rgb(245, 245, 245); color: rgba(0, 0, 0, 0.75); font-weight: 700; box-sizing: border-box;"><span>4</span></th><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 110px; min-width: 110px; max-width: 110px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"Zaphod"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 118px; min-width: 118px; max-width: 118px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"Beeblebrox"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 142px; min-width: 142px; max-width: 142px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>&lt;missing&gt;</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 308px; min-width: 308px; max-width: 308px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"zaphod-beeblebrox@hitchhikers-guide.galaxy"</span></td><td style="text-overflow: ellipsis; font-family: Arial, sans-serif; font-size: 12px; overflow: hidden; padding: 3px; width: 217px; min-width: 217px; max-width: 217px; border-width: 0px 1px 1px; border-style: solid; border-color: rgb(191, 191, 191); border-image: initial; text-align: left;"><span>"Heart&nbsp;of&nbsp;Gold&nbsp;Spacecraft&nbsp;Crew"</span></td></tr></tbody></table></div></div><div class="outputLayer selectedOutputDecorationLayer doNotExport"></div><div class="outputLayer activeOutputDecorationLayer doNotExport"></div><div class="outputLayer scrollableOutputDecorationLayer doNotExport"></div><div class="outputLayer navigationFocusLayer doNotExport" tabindex="-1"></div></div></div></div></div><h2  class = 'S5'><span>Create instances</span></h2><div  class = 'S1'><span>Let us create a set of metadata instances from this table that represents the crew members. We assume that </span><span style=' font-family: monospace;'>memberOf</span><span> provides the full name of a consortium each person is affiliated to. Since members might be affiliated to the same consortium we assume further that the same full name means the same consortium. We can also assume that the </span><span style=' font-family: monospace;'>email</span><span> is unique for each person.</span></div><div  class = 'S1'><span>With these assumptions we will create:</span></div><ul  class = 'S6'><li  class = 'S7'><span>a metadata </span><span style=' font-family: monospace;'>Collection</span><span> for storing metadata instances</span></li><li  class = 'S7'><span>a unique set of </span><span style=' font-family: monospace;'>Consortium</span><span> instances based on the name given in the </span><span style=' font-family: monospace;'>memberOf</span><span> column</span></li><li  class = 'S7'><span>a </span><span style=' font-family: monospace;'>ContactInformation</span><span> instance based on the </span><span style=' font-family: monospace;'>email</span><span> column</span></li><li  class = 'S7'><span>a </span><span style=' font-family: monospace;'>Person</span><span> instance for each table row with:</span></li><li  class = 'S7'><span>    the </span><span style=' font-family: monospace;'>givenName</span><span>, </span><span style=' font-family: monospace;'>familyName</span><span>, and </span><span style=' font-family: monospace;'>alternateName</span><span> (if available)</span></li><li  class = 'S7'><span>    a link to the respective </span><span style=' font-family: monospace;'>ContactInformation </span><span>instance</span></li><li  class = 'S7'><span>    a person-specific embedded </span><span style=' font-family: monospace;'>Affiliation</span><span> instance that links to the respective </span><span style=' font-family: monospace;'>Consortium</span><span> instance</span></li></ul><div  class = 'S1'><span>We start by creating an empty metadata collection for storing metadata instances.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre"><span style="color: #008013;">% Create an empty metadata collection</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >collection = openminds.Collection(</span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >           </span><span style="color: #a709f5;">"Name"</span><span >, </span><span style="color: #a709f5;">"Crew Members"</span><span >, </span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >    </span><span style="color: #a709f5;">"Description"</span><span >, </span><span style="color: #a709f5;">"Crew members of the 'Heart of Gold' spacecraft"</span><span >)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsVariableStringElement" uid="FF20A7F1" prevent-scroll="true" data-testid="output_1" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="94" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><span class="variableNameElement" style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">collection = </span></div><div style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">  Collection with properties:

           Name: "Crew Members"
    Description: "Crew members of the 'Heart of Gold' spacecraft"
          Nodes: dictionary with unset key and value types
</div></div></div></div></div></div><div  class = 'S9'><span>The collection will hold instances in a dictionary object of the Nodes property. Note: the </span><span style=' font-family: monospace;'>Name</span><span> and </span><span style=' font-family: monospace;'>Description</span><span> are optional and are currently not stored with the metadata instances.</span></div><div  class = 'S1'><span>We move on and start creating instances for the consortia:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre"><span style="color: #008013;">% Define a utility function for creating instance ids:</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >createId = @(str) lower(sprintf(</span><span style="color: #a709f5;">'_:%s'</span><span >, replace(str, </span><span style="color: #a709f5;">' '</span><span >, </span><span style="color: #a709f5;">'-'</span><span >)));</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'>&nbsp;</div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span style="color: #008013;">% Extract the unique "memberOf" names to create dictionary </span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span style="color: #008013;">% with unique "Consortium" instances</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >uniqueConsortiumNames = unique(crewMembers.memberOf);</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'>&nbsp;</div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >consortia = dictionary;</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span style="color: #0e00ff;">for </span><span >consortiumName = uniqueConsortiumNames'    </span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >    consortia(consortiumName) = openminds.core.Consortium(</span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >              </span><span style="color: #a709f5;">'id'</span><span >, createId(consortiumName), </span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >        </span><span style="color: #a709f5;">'fullName'</span><span >, consortiumName );</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span style="color: #0e00ff;">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'>&nbsp;</div></div><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >disp(consortia)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="79277210" prevent-scroll="true" data-testid="output_2" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="46" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">  dictionary (<strong style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">string</strong> ⟼ <strong style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">openminds.core.actors.Consortium</strong>) with 1 entry:

    "Heart of Gold Spacecraft Crew" ⟼ [Heart of Gold Spacecraft Crew]  (Consortium)</div></div></div></div></div><div  class = 'S9'><span>We have now created a dictionary that holds the </span><span style=' font-family: monospace;'>Consortium</span><span> instances. Since all the persons in this example belongs to the same consortium, this dictionary only holds one instance.</span></div><div  class = 'S1'><span>We can also look at the </span><span style=' font-family: monospace;'>Consortium</span><span> instance in more detail:</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S10'><span style="white-space: pre"><span >disp(consortia(</span><span style="color: #a709f5;">"Heart of Gold Spacecraft Crew"</span><span >))</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="6D52EB04" prevent-scroll="true" data-testid="output_3" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="120" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">  Consortium (https://openminds.ebrains.eu/core/Consortium) with properties:

    contactInformation: [None]  (ContactInformation)
              fullName: "Heart of Gold Spacecraft Crew"
              homepage: ""
             shortName: ""

  Required Properties: <strong style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">fullName</strong></div></div></div></div></div><div  class = 'S9'><span>The </span><span style=' font-family: monospace;'>Consortium</span><span> instance has four properties, and we have filled out </span><span style=' font-family: monospace;'>fullName</span><span>. Whenever you create an openMINDS instance in MATLAB, you can either supply one or more name-value pairs when you create the instance (as we did above), or you can first create the instance and then assign values using dot-indexing on the instance object.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre"><span >consortium = openminds.core.Consortium();</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >consortium.fullName = </span><span style="color: #a709f5;">"Heart of Gold Spacecraft Crew"</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsVariableStringElement" uid="F140FAB5" prevent-scroll="true" data-testid="output_4" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="138" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><span class="variableNameElement" style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">consortium = </span></div><div style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">  Consortium (https://openminds.ebrains.eu/core/Consortium) with properties:

    contactInformation: [None]  (ContactInformation)
              fullName: "Heart of Gold Spacecraft Crew"
              homepage: ""
             shortName: ""

  Required Properties: <strong style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">fullName</strong>
</div></div></div></div></div></div><div  class = 'S9'><span>When the instance is displayed, you will see all the properties that are part of the instance type, and which of those are required (Note: at the moment of writing this guide, required properties are not enforced). The display should also give information about what types are expected for each of the property values. For example, the </span><span style=' font-family: monospace;'>contactInformation</span><span> property requires a </span><span style=' font-family: monospace;'>ContactInformation</span><span> instance (as indicated by the annotation in the brackets). If you want to learn more about the types as you explore the instances, you can always press the links in the instance display and they will take you to the openMINDS documentation page for that instance.</span></div><div  class = 'S1'><span>The consortium in this example does not have contact information, but we will move on and create </span><span style=' font-family: monospace;'>ContactInformation</span><span> types for each of the persons:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre"><span style="color: #008013;">% Create a dictionary to hold "ContactInformation" instances</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >contacts = dictionary;</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'>&nbsp;</div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span style="color: #0e00ff;">for </span><span >email = crewMembers.email'</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >    contacts(email) = openminds.core.ContactInformation(</span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >           </span><span style="color: #a709f5;">'id'</span><span >, createId(email), </span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >        </span><span style="color: #a709f5;">'email'</span><span >, email );</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span style="color: #0e00ff;">end</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >disp(contacts)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="FB040D3D" prevent-scroll="true" data-testid="output_5" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="91" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">  dictionary (<strong style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">string</strong> ⟼ <strong style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">openminds.core.actors.ContactInformation</strong>) with 4 entries:

    "arthur-dent@hitchhikers-guide.galaxy"       ⟼ [arthur-dent@hitchhikers-guide.galaxy]  (ContactInformation)
    "ford-prefect@hitchhikers-guide.galaxy"      ⟼ [ford-prefect@hitchhikers-guide.galaxy]  (ContactInformation)
    "trillian-astra@hitchhikers-guide.galaxy"    ⟼ [trillian-astra@hitchhikers-guide.galaxy]  (ContactInformation)
    "zaphod-beeblebrox@hitchhikers-guide.galaxy" ⟼ [zaphod-beeblebrox@hitchhikers-guide.galaxy]  (ContactInformation)</div></div></div></div></div><div  class = 'S1'><span>This gave us four </span><span style=' font-family: monospace;'>ContactInformation</span><span> instances. Finally we will create </span><span style=' font-family: monospace;'>Person</span><span> instances and attach the </span><span style=' font-family: monospace;'>ContactInformation</span><span> and </span><span style=' font-family: monospace;'>Consortium</span><span> instances:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre"><span style="color: #008013;">% Extract data to create a list of "Person" instances where each "Person" </span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span style="color: #008013;">% instance will link to their respective "ContactInformation" instance and</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span style="color: #008013;">% embed an "Affiliation" instance that links to the respective "Consortium" instance</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >persons = openminds.core.Person.empty;</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'>&nbsp;</div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span style="color: #0e00ff;">for </span><span >iRow = 1:height(crewMembers)</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'>&nbsp;</div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >    person = crewMembers(iRow,:);</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >    fullName = person.givenName + </span><span style="color: #a709f5;">" " </span><span >+ person.familyName;</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >    </span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >    persons(end+1) = openminds.core.Person( </span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >                        </span><span style="color: #a709f5;">'id'</span><span >, createId(fullName), </span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >                 </span><span style="color: #a709f5;">'givenName'</span><span >, person.givenName, </span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >                </span><span style="color: #a709f5;">'familyName'</span><span >, person.familyName, </span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >             </span><span style="color: #a709f5;">'alternateName'</span><span >, person.alternateName, </span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >        </span><span style="color: #a709f5;">'contactInformation'</span><span >, contacts(person.email), </span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >               </span><span style="color: #a709f5;">'affiliation'</span><span >, openminds.core.Affiliation(</span><span style="color: #a709f5;">'memberOf'</span><span >, consortia(person.memberOf) )); </span><span style="color: #008013;">%#ok&lt;SAGROW&gt;</span></span></div></div><div class="inlineWrapper"><div  class = 'S11'><span style="white-space: pre"><span style="color: #0e00ff;">end</span></span></div></div></div><h2  class = 'S5'><span>Add instances to collection and export collection</span></h2><div  class = 'S1'><span>Now that we have all the instances, we can add them to the </span><span style=' font-family: monospace;'>collection</span><span>. It is sufficient to add the </span><span style=' font-family: monospace;'>Person</span><span> instances because the collection will automatically detect linked and embedded instances and add them automatically to the </span><span style=' font-family: monospace;'>Nodes</span><span> property.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre"><span >collection.add(persons)</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >disp(collection)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="20616B05" prevent-scroll="true" data-testid="output_6" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="76" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">  Collection with properties:

           Name: "Crew Members"
    Description: "Crew members of the 'Heart of Gold' spacecraft"
          Nodes: dictionary (string ⟼ cell) with 9 entries</div></div></div></div></div><div  class = 'S9'><span>As described above, we see that the </span><span style=' font-family: monospace;'>Nodes</span><span> hold 9 instances. We can look at the </span><span style=' font-family: monospace;'>Nodes</span><span> and we should expect to see 4 </span><span style=' font-family: monospace;'>Person</span><span> instances, 4 </span><span style=' font-family: monospace;'>ContactInformation</span><span> instances and 1 </span><span style=' font-family: monospace;'>Consortium</span><span> instance.</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S10'><span style="white-space: pre"><span >disp(collection.Nodes)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement" uid="F97A1DD4" prevent-scroll="true" data-testid="output_7" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="164" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">  dictionary (<strong style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">string</strong> ⟼ <strong style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">cell</strong>) with 9 entries:

    "_:arthur-dent"                                ⟼ {[Dent, Arthur]  (Person)}
    "_:arthur-dent@hitchhikers-guide.galaxy"       ⟼ {[arthur-dent@hitchhikers-guide.galaxy]  (ContactInformation)}
    "_:heart-of-gold-spacecraft-crew"              ⟼ {[Heart of Gold Spacecraft Crew]  (Consortium)}
    "_:ford-prefect"                               ⟼ {[Prefect, Ford]  (Person)}
    "_:ford-prefect@hitchhikers-guide.galaxy"      ⟼ {[ford-prefect@hitchhikers-guide.galaxy]  (ContactInformation)}
    "_:tricia-marie-mcmillan"                      ⟼ {[McMillan, Tricia Marie]  (Person)}
    "_:trillian-astra@hitchhikers-guide.galaxy"    ⟼ {[trillian-astra@hitchhikers-guide.galaxy]  (ContactInformation)}
    "_:zaphod-beeblebrox"                          ⟼ {[Beeblebrox, Zaphod]  (Person)}
    "_:zaphod-beeblebrox@hitchhikers-guide.galaxy" ⟼ {[zaphod-beeblebrox@hitchhikers-guide.galaxy]  (ContactInformation)}</div></div></div></div></div><div  class = 'S9'><span>A note here: Since the collection holds a mix of different types, each type is inside a cell (as indicated by the curly brackets). In order to get an instance from the </span><span style=' font-family: monospace;'>Nodes</span><span>, we need to index into a cell object:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre"><span style="color: #0e00ff;">if </span><span >isMATLABReleaseOlderThan(</span><span style="color: #a709f5;">"R2023a"</span><span >)</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >    cellValue = collection.Nodes(</span><span style="color: #a709f5;">"_:arthur-dent"</span><span >);</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >    person = cellValue{1}</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span style="color: #0e00ff;">else</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >    person = collection.Nodes{</span><span style="color: #a709f5;">"_:arthur-dent"</span><span >} </span><span style="color: #008013;">% Curly brace syntax introduced in R2023a</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span style="color: #0e00ff;">end</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsVariableStringElement" uid="B8E0CA41" prevent-scroll="true" data-testid="output_8" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="182" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><span class="variableNameElement" style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">person = </span></div><div style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">  Person (https://openminds.ebrains.eu/core/Person) with properties:

           affiliation: Heart of Gold Spacecraft Crew  (Affiliation)
         alternateName: &lt;missing&gt;
     associatedAccount: [None]  (AccountInformation)
    contactInformation: arthur-dent@hitchhikers-guide.galaxy  (ContactInformation)
     digitalIdentifier: [None]  (ORCID)
            familyName: "Dent"
             givenName: "Arthur"

  Required Properties: <strong style="white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">givenName</strong>
</div></div></div></div></div></div><div  class = 'S1'><span>Finally, we can save the collection</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre"><span style="color: #008013;">% Save the instances to the openMINDS userdata folder:</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >savePath = fullfile(userpath, </span><span style="color: #a709f5;">"openMINDS_MATLAB"</span><span >, </span><span style="color: #a709f5;">"demo"</span><span >, </span><span style="color: #a709f5;">"crew_members.jsonld"</span><span >);</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >collection.save(savePath)</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'>&nbsp;</div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span style="color: #008013;">% Check out the saved metadata:</span></span></div></div><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span >str = fileread(savePath);</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre"><span >disp(str)</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper disableDefaultGestureHandling embeddedOutputsTextElement scrollableOutput" uid="6C6255C5" prevent-scroll="true" data-testid="output_9" tabindex="-1" style="width: 1145px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;"><div class="textElement eoOutputContent scrollArea" tabindex="-1" data-previous-available-width="1108" data-previous-scroll-height="1523" data-hashorizontaloverflow="false" style="max-height: 261px; white-space: pre; font-style: normal; color: rgb(33, 33, 33); font-size: 12px;">{
  "@context": {
    "@vocab": "https://openminds.ebrains.eu/vocab/"
  },
  "@graph": [
    {
      "@id": "_:arthur-dent",
      "@type": "https://openminds.ebrains.eu/core/Person",
      "affiliation": [
        {
          "@type": "https://openminds.ebrains.eu/core/Affiliation",
          "memberOf": {
            "@id": "_:heart-of-gold-spacecraft-crew"
          }
        }
      ],
      "contactInformation": {
        "@id": "_:arthur-dent@hitchhikers-guide.galaxy"
      },
      "familyName": "Dent",
      "givenName": "Arthur"
    },
    {
      "@id": "_:arthur-dent@hitchhikers-guide.galaxy",
      "@type": "https://openminds.ebrains.eu/core/ContactInformation",
      "email": "arthur-dent@hitchhikers-guide.galaxy"
    },
    {
      "@id": "_:heart-of-gold-spacecraft-crew",
      "@type": "https://openminds.ebrains.eu/core/Consortium",
      "fullName": "Heart of Gold Spacecraft Crew"
    },
    {
      "@id": "_:ford-prefect",
      "@type": "https://openminds.ebrains.eu/core/Person",
      "affiliation": [
        {
          "@type": "https://openminds.ebrains.eu/core/Affiliation",
          "memberOf": {
            "@id": "_:heart-of-gold-spacecraft-crew"
          }
        }
      ],
      "contactInformation": {
        "@id": "_:ford-prefect@hitchhikers-guide.galaxy"
      },
      "familyName": "Prefect",
      "givenName": "Ford"
    },
    {
      "@id": "_:ford-prefect@hitchhikers-guide.galaxy",
      "@type": "https://openminds.ebrains.eu/core/ContactInformation",
      "email": "ford-prefect@hitchhikers-guide.galaxy"
    },
    {
      "@id": "_:tricia-marie-mcmillan",
      "@type": "https://openminds.ebrains.eu/core/Person",
      "affiliation": [
        {
          "@type": "https://openminds.ebrains.eu/core/Affiliation",
          "memberOf": {
            "@id": "_:heart-of-gold-spacecraft-crew"
          }
        }
      ],
      "alternateName": [
        "Trillian Astra"
      ],
      "contactInformation": {
        "@id": "_:trillian-astra@hitchhikers-guide.galaxy"
      },
      "familyName": "McMillan",
      "givenName": "Tricia Marie"
    },
    {
      "@id": "_:trillian-astra@hitchhikers-guide.galaxy",
      "@type": "https://openminds.ebrains.eu/core/ContactInformation",
      "email": "trillian-astra@hitchhikers-guide.galaxy"
    },
    {
      "@id": "_:zaphod-beeblebrox",
      "@type": "https://openminds.ebrains.eu/core/Person",
      "affiliation": [
        {
          "@type": "https://openminds.ebrains.eu/core/Affiliation",
          "memberOf": {
            "@id": "_:heart-of-gold-spacecraft-crew"
          }
        }
      ],
      "contactInformation": {
        "@id": "_:zaphod-beeblebrox@hitchhikers-guide.galaxy"
      },
      "familyName": "Beeblebrox",
      "givenName": "Zaphod"
    },
    {
      "@id": "_:zaphod-beeblebrox@hitchhikers-guide.galaxy",
      "@type": "https://openminds.ebrains.eu/core/ContactInformation",
      "email": "zaphod-beeblebrox@hitchhikers-guide.galaxy"
    }
  ]
}</div></div></div></div></div>
<br>
<!-- 
##### SOURCE BEGIN #####
%% Metadata instances and collections
% In this example we will create a metadata collection for the crew members 
% of the "Heart of Gold" Spacecraft as described in the openMINDS <https://openminds-documentation.readthedocs.io/en/latest/shared/getting_started.html 
% getting started> guide.
% 
% We start by importing a csv file with crew member information:

filePath = fullfile(openminds.toolboxdir(), "livescripts", "data", "spacecraft_crew_members.csv");
crewMembers = readtable(filePath, "TextType", "String")
%% Create instances
% Let us create a set of metadata instances from this table that represents 
% the crew members. We assume that |memberOf| provides the full name of a consortium 
% each person is affiliated to. Since members might be affiliated to the same 
% consortium we assume further that the same full name means the same consortium. 
% We can also assume that the |email| is unique for each person.
% 
% With these assumptions we will create:
%% 
% * a metadata |Collection| for storing metadata instances
% * a unique set of |Consortium| instances based on the name given in the |memberOf| 
% column
% * a |ContactInformation| instance based on the |email| column
% * a |Person| instance for each table row with:
% * the |givenName|, |familyName|, and |alternateName| (if available)
% * a link to the respective |ContactInformation| instance
% * a person-specific embedded |Affiliation| instance that links to the respective 
% |Consortium| instance
%% 
% We start by creating an empty metadata collection for storing metadata instances.

% Create an empty metadata collection
collection = openminds.Collection(...
           "Name", "Crew Members", ...
    "Description", "Crew members of the 'Heart of Gold' spacecraft")
%% 
% The collection will hold instances in a dictionary object of the Nodes property. 
% Note: the |Name| and |Description| are optional and are currently not stored 
% with the metadata instances.
% 
% We move on and start creating instances for the consortia:

% Define a utility function for creating instance ids:
createId = @(str) lower(sprintf('_:%s', replace(str, ' ', '-')));

% Extract the unique "memberOf" names to create dictionary 
% with unique "Consortium" instances
uniqueConsortiumNames = unique(crewMembers.memberOf);

consortia = dictionary;
for consortiumName = uniqueConsortiumNames'    
    consortia(consortiumName) = openminds.core.Consortium(...
              'id', createId(consortiumName), ...
        'fullName', consortiumName );
end

disp(consortia)
%% 
% We have now created a dictionary that holds the |Consortium| instances. Since 
% all the persons in this example belongs to the same consortium, this dictionary 
% only holds one instance.
% 
% We can also look at the |Consortium| instance in more detail:

disp(consortia("Heart of Gold Spacecraft Crew"))
%% 
% The |Consortium| instance has four properties, and we have filled out |fullName|. 
% Whenever you create an openMINDS instance in MATLAB, you can either supply one 
% or more name-value pairs when you create the instance (as we did above), or 
% you can first create the instance and then assign values using dot-indexing 
% on the instance object.

consortium = openminds.core.Consortium();
consortium.fullName = "Heart of Gold Spacecraft Crew"
%% 
% When the instance is displayed, you will see all the properties that are part 
% of the instance type, and which of those are required (Note: at the moment of 
% writing this guide, required properties are not enforced). The display should 
% also give information about what types are expected for each of the property 
% values. For example, the |contactInformation| property requires a |ContactInformation| 
% instance (as indicated by the annotation in the brackets). If you want to learn 
% more about the types as you explore the instances, you can always press the 
% links in the instance display and they will take you to the openMINDS documentation 
% page for that instance.
% 
% The consortium in this example does not have contact information, but we will 
% move on and create |ContactInformation| types for each of the persons:

% Create a dictionary to hold "ContactInformation" instances
contacts = dictionary;

for email = crewMembers.email'
    contacts(email) = openminds.core.ContactInformation(...
           'id', createId(email), ...
        'email', email );
end
disp(contacts)
%% 
% This gave us four |ContactInformation| instances. Finally we will create |Person| 
% instances and attach the |ContactInformation| and |Consortium| instances:

% Extract data to create a list of "Person" instances where each "Person" 
% instance will link to their respective "ContactInformation" instance and
% embed an "Affiliation" instance that links to the respective "Consortium" instance
persons = openminds.core.Person.empty;

for iRow = 1:height(crewMembers)

    person = crewMembers(iRow,:);
    fullName = person.givenName + " " + person.familyName;
    
    persons(end+1) = openminds.core.Person( ...
                        'id', createId(fullName), ...
                 'givenName', person.givenName, ...
                'familyName', person.familyName, ...
             'alternateName', person.alternateName, ...
        'contactInformation', contacts(person.email), ...
               'affiliation', openminds.core.Affiliation('memberOf', consortia(person.memberOf) )); %#ok<SAGROW>
end
%% Add instances to collection and export collection
% Now that we have all the instances, we can add them to the |collection|. It 
% is sufficient to add the |Person| instances because the collection will automatically 
% detect linked and embedded instances and add them automatically to the |Nodes| 
% property.

collection.add(persons)
disp(collection)
%% 
% As described above, we see that the |Nodes| hold 9 instances. We can look 
% at the |Nodes| and we should expect to see 4 |Person| instances, 4 |ContactInformation| 
% instances and 1 |Consortium| instance.

disp(collection.Nodes)
%% 
% A note here: Since the collection holds a mix of different types, each type 
% is inside a cell (as indicated by the curly brackets). In order to get an instance 
% from the |Nodes|, we need to index into a cell object:

if isMATLABReleaseOlderThan("R2023a")
    cellValue = collection.Nodes("_:arthur-dent");
    person = cellValue{1}
else
    person = collection.Nodes{"_:arthur-dent"} % Curly brace syntax introduced in R2023a
end
%% 
% Finally, we can save the collection

% Save the instances to the openMINDS userdata folder:
savePath = fullfile(userpath, "openMINDS_MATLAB", "demo", "crew_members.jsonld");
collection.save(savePath)

% Check out the saved metadata:
str = fileread(savePath);
disp(str)
##### SOURCE END #####
-->
</div></body></html>